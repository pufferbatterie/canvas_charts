<html lang="en">
<head>
    <meta charset="utf-8">
    <title>canvas_charts - radar</title>
    <style type="text/css">
        canvas {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>

<body>
<script src="js/jquery-3.4.1.js"></script>
<script src="js/radarChart.js"></script>

<h1>canvas_charts - radar</h1>
<div id="tablespace"></div>

<script>
    (function () {

        function constructTable(radarData) {
            let table = document.createElement("table");

            let thead = document.createElement("thead");
            let thead_tr = document.createElement("tr");
            radarData.titles.forEach(function (title) {
                let th = document.createElement("th");
                let th_text = document.createTextNode(title);
                th.appendChild(th_text);
                thead_tr.appendChild(th);
            });
            thead.appendChild(thead_tr);
            table.appendChild(thead);

            let tbody = document.createElement("tbody");
            radarData.fills.forEach(function (fill) {
                let tbody_tr = document.createElement("tr");
                tbody_tr.dataset.radarColor = fill.color;
                radarData.titles.forEach(function (title) {
                    let td = document.createElement("td");
                    let td_text = document.createTextNode(fill.data[title] * 100);
                    td.appendChild(td_text);
                    tbody_tr.appendChild(td);
                });
                tbody.appendChild(tbody_tr);
            });
            table.appendChild(tbody);

            return table;
        }

        fetch("https://raw.githubusercontent.com/pufferbatterie/canvas_charts/master/radar/data/example.json")
            .then(resp => resp.json())
            .then(function (resp) {
                let t = constructTable(resp.data);
                document.querySelector('#tablespace').appendChild(t);
                $(t).radar_chart();
            });

    })();
</script>

</body>
</html>